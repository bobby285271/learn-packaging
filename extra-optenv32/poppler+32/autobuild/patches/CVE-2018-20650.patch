From de0c0b8324e776f0b851485e0fc9622fc35695b7 Mon Sep 17 00:00:00 2001
From: Albert Astals Cid <aacid@kde.org>
Date: Sat, 29 Dec 2018 01:25:17 +0100
Subject: [PATCH] FileSpec: Move the fileSpec.dictLookup call inside
 fileSpec.isDict if

Fixes #704
---
 poppler/FileSpec.cc | 9 +++++----
 1 file changed, 5 insertions(+), 4 deletions(-)

Index: poppler-0.68.0/poppler/FileSpec.cc
===================================================================
--- poppler-0.68.0.orig/poppler/FileSpec.cc
+++ poppler-0.68.0/poppler/FileSpec.cc
@@ -132,11 +132,12 @@ FileSpec::FileSpec(const Object *fileSpe
         return;
       }
     }
-  }
 
-  obj1 = fileSpec.dictLookup("Desc");
-  if (obj1.isString())
-    desc = obj1.getString()->copy();
+    obj1 = fileSpec.dictLookup("Desc");
+    if (obj1.isString()) {
+      desc = obj1.getString()->copy();
+    }
+  }
 }
 
 FileSpec::~FileSpec()
